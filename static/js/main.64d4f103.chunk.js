(this["webpackJsonpreact_phone-catalog"]=this["webpackJsonpreact_phone-catalog"]||[]).push([[0],{37:function(e,t,c){},38:function(e,t,c){},41:function(e,t,c){},42:function(e,t,c){},43:function(e,t,c){},44:function(e,t,c){},45:function(e,t,c){},46:function(e,t,c){},47:function(e,t,c){},48:function(e,t,c){},49:function(e,t,c){},60:function(e,t,c){},61:function(e,t,c){},62:function(e,t,c){},63:function(e,t,c){},64:function(e,t,c){"use strict";c.r(t);var n=c(19),s=c.n(n),a=(c(37),c(0)),r=c.n(a),i=c(6),o=c(3),l=c(10),j=c.n(l),u=(c(38),c(1)),d=function(e){var t=e.isActive;return j()("header__nav-link",{"is-active":t})},b=function(){return Object(u.jsx)("header",{className:"header",children:Object(u.jsx)("nav",{className:"header__nav",children:Object(u.jsxs)("ul",{className:"header__nav-items",children:[Object(u.jsxs)("div",{className:"header__nav-left",children:[Object(u.jsx)(i.b,{to:"/",children:Object(u.jsx)("div",{className:"header__nav-logo"})}),Object(u.jsx)("li",{className:"header__nav-list",children:Object(u.jsx)(i.c,{to:"/",className:d,children:"Home"})}),Object(u.jsx)("li",{className:"header__nav-list",children:Object(u.jsx)(i.c,{to:"/phones",className:d,children:"Phones"})}),Object(u.jsx)("li",{className:"header__nav-list",children:Object(u.jsx)(i.c,{to:"/tablets",className:d,children:"Tablets"})}),Object(u.jsx)("li",{className:"header__nav-list",children:Object(u.jsx)(i.c,{to:"/accessories",className:d,children:"Accessories"})})]}),Object(u.jsxs)("div",{className:"header__nav-right",children:[Object(u.jsx)(i.c,{to:"/favourites",className:"icon icon-fav"}),Object(u.jsx)(i.c,{to:"/cart",className:"icon icon-cart"})]})]})})})},h=(c(41),c(42),function(e){var t=e.isActive;return j()("footer__nav-link",{"footer-active":t})}),O=function(){var e=function(){window.scrollTo({top:0,behavior:"smooth"})};return Object(a.useEffect)((function(){var t=function(){e()},c=document.querySelector(".backto__top");return c?(c.addEventListener("click",t),function(){c.removeEventListener("click",t)}):function(){}}),[]),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"border"}),Object(u.jsx)("div",{className:"footer",children:Object(u.jsxs)("div",{className:"footer__nav",children:[Object(u.jsx)(i.b,{to:"/",children:Object(u.jsx)("div",{className:"header__nav-logo"})}),Object(u.jsxs)("ul",{className:"footer__nav-item",children:[Object(u.jsx)("li",{className:"footer__nav-list",children:Object(u.jsx)(i.c,{to:"https://github.com/Vitalii-Fediaiev",className:h,children:"GitHub"})}),Object(u.jsx)("li",{className:"footer__nav-list",children:Object(u.jsx)(i.c,{to:"/",className:h,children:"Contacts"})}),Object(u.jsx)("li",{className:"footer__nav-list",children:Object(u.jsx)(i.c,{to:"/",className:h,children:"Right"})})]}),Object(u.jsxs)("div",{className:"footer__button",children:[Object(u.jsx)("p",{className:"footer__button-name","aria-label":"BacktoTop",children:"Back to top"}),Object(u.jsx)("button",{type:"button",className:"footer__button-top","aria-label":"BacktoTop",onClick:e})]})]})})]})},m=function(){return Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)(b,{}),Object(u.jsx)("div",{className:"App__main",children:Object(u.jsx)(o.a,{})}),Object(u.jsx)(O,{})]})},x=c(7),p=c(4),_=c(5),f=c.n(_),v=(c(43),c(44),function(){return Object(u.jsx)("button",{type:"button",className:"button__cart",children:"Add to Cart"})}),N=(c(45),function(){return Object(u.jsx)("button",{type:"button",className:"button__fav","aria-label":"Add to Favorites"})}),g=function(e){var t=e.product;return Object(u.jsxs)("div",{className:"product-card","data-cy":"cardsContainer",children:[Object(u.jsxs)("li",{className:"phone",children:[Object(u.jsxs)(i.b,{className:"phone__link",to:"/".concat(t.category,"/").concat(t.phoneId),children:[Object(u.jsx)("img",{src:"_new/".concat(t.image),alt:t.name,className:"phone__img"}),Object(u.jsx)("div",{className:"phone__name",children:t.name})]}),Object(u.jsxs)("div",{className:"phone__cost",children:[Object(u.jsx)("div",{className:"phone__cost--discount",children:"$".concat(t.price)}),Object(u.jsx)("div",{className:"phone__cost--real",children:"$".concat(t.fullPrice)})]}),Object(u.jsx)("div",{className:"phone__border"}),Object(u.jsxs)("div",{className:"phone__criteria",children:[Object(u.jsxs)("div",{className:"phone__criteria--container",children:[Object(u.jsx)("div",{className:" phone__criteria--big ",children:"Screen"}),Object(u.jsx)("div",{className:" phone__criteria--small ",children:t.screen})]}),Object(u.jsxs)("div",{className:"phone__criteria--container",children:[Object(u.jsx)("div",{className:" phone__criteria--big ",children:"Capacity"}),Object(u.jsx)("div",{className:" phone__criteria--small ",children:t.capacity})]}),Object(u.jsxs)("div",{className:"phone__criteria--container",children:[Object(u.jsx)("div",{className:" phone__criteria--big ",children:"Ram"}),Object(u.jsx)("div",{className:" phone__criteria--small ",children:t.ram})]})]})]}),Object(u.jsxs)("div",{className:"phone__buttons",children:[Object(u.jsx)(v,{}),Object(u.jsx)(N,{})]})]})},y=(c(46),function(e){var t=e.products,c=e.title,n=Object(a.useState)(0),s=Object(p.a)(n,2),r=s[0],i=s[1],o=Math.ceil(t.length/4)-1,l=4*r,j=t.slice(l,l+4);return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:"productSlider",children:[Object(u.jsxs)("div",{className:"productSlider__title-and-button",children:[Object(u.jsx)("h2",{className:"productSlider__title",children:c}),Object(u.jsxs)("div",{className:"productSlider__buttons",children:[Object(u.jsx)("button",{type:"button",className:"button button--prev",onClick:function(){i(0===r?o:r-1)},"aria-label":"Previous"}),Object(u.jsx)("button",{type:"button",className:"button button--next",onClick:function(){i(r===o?0:r+1)},"aria-label":"Next"})]})]}),Object(u.jsx)("div",{className:" productSlider__container","data-cy":"cardsContainer",children:j.map((function(e){return Object(u.jsx)("div",{children:Object(u.jsx)(g,{product:e})},e.id)}))})]})})}),C=c(9);function P(e){return e.sort((function(e,t){return t.price-e.price}))}function k(e){return Object(C.a)(e).sort((function(e,t){return t.year-e.year}))}var w="https://mate-academy.github.io/react_phone-catalog/_new/products.json";function S(){return fetch(w).then((function(e){if(!e.ok)throw new Error("Network response was not ok");return e.json()}))}c(47);var L,A=function(){var e=Object(a.useState)([]),t=Object(p.a)(e,2),c=t[0],n=t[1];return Object(a.useEffect)((function(){function e(){return(e=Object(x.a)(f.a.mark((function e(){var t,c,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S();case 2:t=e.sent,c=P(t),s=k(c),n(s);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(u.jsx)("div",{className:"brand-new","data-cy":"cardsContainer",children:Object(u.jsx)(y,{title:"Brand New Modules",products:c})})};c(48);!function(e){e.Phones="phones",e.Tablets="tablets",e.Accessories="accessories"}(L||(L={}));var E=r.a.createContext({products:[],phonesCount:"",tabletsCount:"",accessoriesCount:"",hotPriceProducts:[],fetchProducts:function(){},getPhones:function(){}}),T=function(e){var t=e.children,c=Object(a.useState)([]),n=Object(p.a)(c,2),s=n[0],r=n[1],i=Object(a.useState)([]),o=Object(p.a)(i,2),l=o[0],j=o[1],d=function(){fetch(w).then((function(e){return e.json()})).then((function(e){return r(e)}))};Object(a.useEffect)((function(){d()}),[]);Object(a.useEffect)((function(){var e=s.filter((function(e){return e.price>0})),t=e.length>0?function(e){return e.filter((function(e){return e.price>0})).sort((function(e,t){return Math.abs(e.price*(e.price/100))-Math.abs(t.price*(t.price/100))}))}(e):[];j(t)}),[s]);var b=Object(a.useCallback)((function(e){var t=s.filter((function(t){return t.category===e})).length;return"".concat(t,1===t?" model":" models")}),[s]),h=b(L.Phones),O=b(L.Tablets),m=b(L.Accessories),x={products:s,phonesCount:h,tabletsCount:O,accessoriesCount:m,hotPriceProducts:l,fetchProducts:d,getPhones:function(){fetch(w).then((function(e){return e.json()})).then((function(e){r(e)}))}};return Object(u.jsx)(E.Provider,{value:x,children:t})},B=function(){var e=Object(a.useContext)(E).hotPriceProducts;return Object(u.jsx)("div",{className:"hot-price","data-cy":"cardsContainer",children:Object(u.jsx)(y,{title:"Hot Price",products:e})})},M=(c(49),function(){var e=Object(a.useContext)(E),t=e.phonesCount,c=e.tabletsCount,n=e.accessoriesCount;return Object(u.jsxs)("div",{className:"category","data-cy":"categoryLinksContainer",children:[Object(u.jsx)("h2",{className:"category__title",children:"Shop By Category"}),Object(u.jsxs)("div",{className:"category__container",children:[Object(u.jsxs)(i.b,{to:"/phones",className:"category__link",children:[Object(u.jsx)("div",{className:"category__phones category__phones--image"}),Object(u.jsxs)("div",{className:"category__description",children:[Object(u.jsx)("h3",{className:"category__name",children:"Mobile phones"}),Object(u.jsx)("div",{className:"category__amount",children:t})]})]}),Object(u.jsxs)(i.b,{to:"/tablets",className:"category__link",children:[Object(u.jsx)("div",{className:"category__tablets category__phones--image"}),Object(u.jsxs)("div",{children:[Object(u.jsx)("h3",{className:"category__name",children:"Tablets"}),Object(u.jsx)("span",{className:"category__amount",children:c})]})]}),Object(u.jsxs)(i.b,{to:"/accessories",className:"category__link",children:[Object(u.jsx)("div",{className:"category__accessories category__phones--image"}),Object(u.jsxs)("div",{children:[Object(u.jsx)("h3",{className:"category__name",children:"Accessories"}),Object(u.jsx)("span",{className:"category__amount",children:n})]})]})]})]})}),I=c(26),F=c(32),D=(c(59),c(60),function(){var e=Object(a.useState)(0),t=Object(p.a)(e,2),c=t[0],n=t[1],s=[{image:"/image/banner-phones.png"},{image:"/image/banner-tablets.png"},{image:"/image/banner-accessories.png"}],r=function(){n((c-1+s.length)%s.length)};return Object(u.jsxs)("div",{className:"slider-container",children:[Object(u.jsx)(F.Carousel,Object(I.a)(Object(I.a)({className:"carousel"},{infiniteLoop:!0,showArrows:!1,showStatus:!1,showIndicators:!1,showThumbs:!1,transitionTime:500,interval:3e3,autoPlay:!0}),{},{selectedItem:c,onChange:function(e){return n(e)},children:s.map((function(e){return Object(u.jsx)("div",{children:Object(u.jsx)("img",{src:e.image,alt:"slide",className:"slider-image"})},e.image)}))})),Object(u.jsxs)("div",{className:"indicators-container",children:[Object(u.jsx)("button",{type:"button",className:"slider_arrows-left",onClick:r,"aria-label":"Previous Slide"}),Object(u.jsx)("button",{type:"button",className:"slider_arrows-right",onClick:function(){n((c+1)%s.length)},"aria-label":"Next Slide"}),s.map((function(e,t){return Object(u.jsx)("button",{type:"button","aria-label":"Indicator",tabIndex:0,className:"custom-indicator ".concat(c===t?"active":""),onClick:function(){return n(t)},onKeyDown:function(e){"Enter"!==e.key&&" "!==e.key||r()}},e.image)}))]})]})}),H=function(){return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(D,{slides:[]}),Object(u.jsx)(B,{}),Object(u.jsx)(M,{products:[]}),Object(u.jsx)(A,{products:[]})]})},J=(c(61),function(e){var t=e.total,c=e.perPage,n=e.currentPage,s=e.onPageChange,a=Math.ceil(t/c),r=1===n,i=n===a,o=n-1,l=n+2;o<1?(o=1,l=Math.min(a,4)):l>a&&(l=a+1,o=Math.max(1,l-4));var d=function(e,t){for(var c=[],n=e;n<=t;n+=1)c.push(n);return c}(o,l);return Object(u.jsxs)("ul",{className:"pagination",children:[!r&&Object(u.jsx)("li",{className:j()("page-item",{disabled:r}),children:Object(u.jsx)("button",{type:"button","data-cy":"firstPageLink",className:"page-link",onClick:function(){return s(1)},children:"1"})}),Object(u.jsx)("button",{className:j()("page-item page-link prev",{disabled:r}),"data-cy":"prevLink",type:"button","aria-label":"next",disabled:r,onClick:function(){r||s(n-1)}}),d.map((function(e){return Object(u.jsx)("button",{className:j()("page-item",{active:n===e}),type:"button","aria-label":"page","data-cy":"pageLink",onClick:function(){return s(e)},children:e},e)})),Object(u.jsx)("button",{className:j()("page-item page-link next",{disabled:i}),type:"button","aria-label":"next","data-cy":"nextLink",disabled:i,onClick:function(){i||s(n+1)}})]})}),R=(c(62),c(63),function(){var e=Object(o.n)().pathname.split("/").filter((function(e){return e}));return Object(u.jsxs)("div",{className:"breadcrumbs",children:[Object(u.jsx)(i.c,{to:"/",children:Object(u.jsx)("span",{className:"breadcrumbs__home-icon"})}),e.map((function(e){return Object(u.jsxs)(r.a.Fragment,{children:[Object(u.jsx)("span",{className:"breadcrumbs__separator"}),Object(u.jsx)(i.b,{to:"/".concat(e),className:"breadcrumbs__link",children:e.charAt(0).toUpperCase()+e.slice(1)})]},e)}))]})}),$=function(e){var t=e.products,c=e.sortBy,n=e.onSortChange,s=Object(a.useState)(t),r=Object(p.a)(s,2),i=r[0],o=r[1],l=Object(a.useState)(4),j=Object(p.a)(l,2),d=j[0],b=j[1],h=Object(a.useState)(1),O=Object(p.a)(h,2),m=O[0],x=O[1],_=Object(a.useState)(!1),f=Object(p.a)(_,2),v=f[0],N=f[1],y=Object(a.useContext)(E).phonesCount;Object(a.useEffect)((function(){var e;o((e=t,"age"===c?Object(C.a)(e).sort((function(e,t){return new Date(t.year).getTime()-new Date(e.year).getTime()})):"name"===c?Object(C.a)(e).sort((function(e,t){return e.name.localeCompare(t.name)})):"price"===c?Object(C.a)(e).sort((function(e,t){return e.price-t.price})):e))}),[t,c]);var P=m*d,k=P-d,w=i.slice(k,P);return Object(u.jsxs)("div",{className:"ProductList","data-cy":"productList",children:[Object(u.jsx)(R,{}),Object(u.jsxs)("div",{className:"ProductList__top",children:[Object(u.jsx)("h1",{className:"ProductList__top--name",children:"Mobile Phones"}),Object(u.jsx)("div",{className:"ProductList__top--count",children:y})]}),Object(u.jsxs)("div",{className:"ProductList_container--select",children:[Object(u.jsxs)("div",{className:"ProductList__sort ProductList__display ",children:[Object(u.jsx)("h4",{className:"ProductList__title",children:"Sort By"}),Object(u.jsxs)("select",{id:"sortSelect",onChange:function(e){var t=e.target.value;n(t)},value:c,className:"ProductList__select",children:[Object(u.jsx)("option",{value:"age",children:"Newest"}),Object(u.jsx)("option",{value:"name",children:"Alphabetically"}),Object(u.jsx)("option",{value:"price",children:"Cheapest"})]})]}),Object(u.jsxs)("div",{className:"ProductList__show ProductList__display",children:[Object(u.jsx)("h4",{className:"ProductList__title",children:"Items on page"}),Object(u.jsxs)("select",{id:"showAllSelect",onChange:function(e){var t=e.target.value;"all"===t?(N(!0),b(i.length),x(1)):(N(!1),b(parseInt(t,10)),x(1))},value:d,className:"ProductList__select ProductList__select-page",children:[Object(u.jsx)("option",{value:"5",children:"4"}),Object(u.jsx)("option",{value:"8",children:"8"}),Object(u.jsx)("option",{value:"16",children:"16"}),Object(u.jsx)("option",{value:"all",children:"all products"})]})]})]}),Object(u.jsx)("div",{className:"ProductList__grid",children:v?i.map((function(e){return Object(u.jsx)("div",{children:Object(u.jsx)(g,{product:e})},e.id)})):w.map((function(e){return Object(u.jsx)("div",{children:Object(u.jsx)(g,{product:e})},e.id)}))}),v?null:Object(u.jsx)(J,{total:i.length,perPage:d,currentPage:m,onPageChange:function(e){x(e)}})]})},q=function(){var e=Object(a.useContext)(E),t=e.products,c=e.getPhones,n=Object(a.useState)(""),s=Object(p.a)(n,2),r=s[0],i=s[1];Object(a.useEffect)((function(){t&&0!==t.length||c()}),[t,c]);return Object(u.jsx)("div",{className:"phone__page",children:Object(u.jsx)($,{products:t,sortBy:r,onSortChange:function(e){i(e)},onSearch:function(){}})})},G=function(){return Object(u.jsx)(T,{children:Object(u.jsx)(i.a,{children:Object(u.jsx)(o.d,{children:Object(u.jsxs)(o.b,{path:"/",element:Object(u.jsx)(m,{}),children:[Object(u.jsx)(o.b,{index:!0,element:Object(u.jsx)(H,{})}),Object(u.jsx)(o.b,{path:"/phones",element:Object(u.jsx)(q,{})}),Object(u.jsx)(o.b,{path:"*",element:Object(u.jsx)(R,{})})]})})})})};s.a.render(Object(u.jsx)(G,{}),document.getElementById("root"))}},[[64,1,2]]]);
//# sourceMappingURL=main.64d4f103.chunk.js.map