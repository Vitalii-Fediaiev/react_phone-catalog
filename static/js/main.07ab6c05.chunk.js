(this["webpackJsonpreact_phone-catalog"]=this["webpackJsonpreact_phone-catalog"]||[]).push([[0],{37:function(e,t,c){},38:function(e,t,c){},40:function(e,t,c){},42:function(e,t,c){},43:function(e,t,c){},44:function(e,t,c){},45:function(e,t,c){},46:function(e,t,c){},47:function(e,t,c){},48:function(e,t,c){},59:function(e,t,c){},60:function(e,t,c){},61:function(e,t,c){},62:function(e,t,c){},63:function(e,t,c){},64:function(e,t,c){},65:function(e,t,c){},66:function(e,t,c){},67:function(e,t,c){},68:function(e,t,c){},69:function(e,t,c){"use strict";c.r(t);var a=c(20),s=c.n(a),n=(c(37),c(1)),i=c.n(n),r=c(6),o=c(3),l=c(10),d=c.n(l),j=(c(38),c(11)),u=c(7),b=c(4),m=c(0),h=Object(n.createContext)({cartItems:[],addToCart:function(){},removeFromCart:function(){},clearCart:function(){},getCartTotal:function(){return 0},toggleCartItem:function(){}}),O=function(e){var t=e.children,c=Object(n.useState)(localStorage.getItem("cartItems")?JSON.parse(localStorage.getItem("cartItems")):[]),a=Object(b.a)(c,2),s=a[0],i=a[1];Object(n.useEffect)((function(){var e=localStorage.getItem("cartItems");e&&i(JSON.parse(e))}),[]),Object(n.useEffect)((function(){localStorage.setItem("cartItems",JSON.stringify(s))}),[s]);Object(n.useEffect)((function(){localStorage.setItem("cartItems",JSON.stringify(s))}),[s]),Object(n.useEffect)((function(){var e=localStorage.getItem("cartItems");e&&i(JSON.parse(e))}),[]);var r={cartItems:s,addToCart:function(e){var t=s.find((function(t){return t.id===e.id}));i(t?s.map((function(t){return t.id===e.id?Object(j.a)(Object(j.a)({},t),{},{quantity:t.quantity+1}):t})):[].concat(Object(u.a)(s),[Object(j.a)(Object(j.a)({},e),{},{quantity:1})]))},removeFromCart:function(e){var t=s.find((function(t){return t.id===e.id}));t&&(1===t.quantity?i(s.filter((function(t){return t.id!==e.id}))):i(s.map((function(t){return t.id===e.id?Object(j.a)(Object(j.a)({},t),{},{quantity:t.quantity-1}):t}))))},clearCart:function(){i([])},getCartTotal:function(){return s.reduce((function(e,t){return e+t.price*t.quantity}),0)},toggleCartItem:function(e){var t=s.findIndex((function(t){return t.id===e.id}));if(-1!==t){var c=Object(u.a)(s);c.splice(t,1),i(c)}else i([].concat(Object(u.a)(s),[e]))}};return Object(m.jsx)(h.Provider,{value:r,children:t})},_=Object(n.createContext)({favouritesItems:[],addToFavourites:function(){},removeFromFavourites:function(){},isItemInFavourites:function(){return!1},toggleFavourite:function(){}}),p=function(e){var t=e.children,c=Object(n.useState)(localStorage.getItem("favouritesItems")?JSON.parse(localStorage.getItem("favouritesItems")):[]),a=Object(b.a)(c,2),s=a[0],i=a[1],r=function(e){s.find((function(t){return t.id===e.id}))||i([].concat(Object(u.a)(s),[e]))},o=function(e){var t=s.filter((function(t){return t.id!==e.id}));i(t)};Object(n.useEffect)((function(){localStorage.setItem("favouritesItems",JSON.stringify(s))}),[s]);var l={favouritesItems:s,addToFavourites:r,removeFromFavourites:o,isItemInFavourites:function(e){return s.some((function(t){return t.id===e}))},toggleFavourite:function(e){var t=+e.id,c=s.find((function(e){return e.id===t}));c?o(c):r({id:t,product:e,quantity:1})}};return Object(m.jsx)(_.Provider,{value:l,children:t})},v=(c(40),c.p+"static/media/Search.eb670dd9.svg"),x=function(){var e=Object(o.n)().pathname,t=Object(r.d)(),c=Object(b.a)(t,2),a=c[0],s=c[1],i=Object(n.useState)(a.get("query")||""),l=Object(b.a)(i,2),d=l[0],j=l[1];return Object(m.jsx)("div",{className:"search",children:Object(m.jsxs)("div",{className:"search__container",children:[Object(m.jsx)("input",{name:"search",value:d,onChange:function(e){j(e.target.value);var t=new URLSearchParams(a);t.set("page","1"),e.target.value?t.set("query",e.target.value):t.delete("query"),s(t,{replace:!0})},className:"search__field",placeholder:"Search in ".concat(e.slice(1),"...")}),d?Object(m.jsx)("button",{className:"search__icon search__icon--clear","aria-label":"button",type:"button",onClick:function(){j(""),s(new URLSearchParams,{replace:!0})}}):Object(m.jsx)("img",{className:"search__icon",src:v,alt:"Search"})]})})},f=function(e){var t=e.isActive;return d()("header__nav-link",{"is-active":t})},N=function(){var e=Object(n.useContext)(h).cartItems,t=Object(n.useContext)(_).favouritesItems.reduce((function(e,t){return e+t.quantity}),0),c=e.reduce((function(e,t){return e+t.quantity}),0),a=Object(o.n)().pathname,s="/cart"===a;return Object(m.jsx)("header",{className:"header",children:Object(m.jsx)("nav",{className:"header__nav",children:Object(m.jsxs)("ul",{className:"header__nav-items",children:[Object(m.jsxs)("div",{className:"header__nav-left",children:[Object(m.jsx)(r.b,{to:"/",children:Object(m.jsx)("div",{className:"header__nav-logo"})}),!s&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("li",{className:"header__nav-list",children:Object(m.jsx)(r.c,{to:"/",className:f,children:"Home"})}),Object(m.jsx)("li",{className:"header__nav-list",children:Object(m.jsx)(r.c,{to:"/phones",className:f,children:"Phones"})}),Object(m.jsx)("li",{className:"header__nav-list",children:Object(m.jsx)(r.c,{to:"/tablets",className:f,children:"Tablets"})}),Object(m.jsx)("li",{className:"header__nav-list",children:Object(m.jsx)(r.c,{to:"/accessories",className:f,children:"Accessories"})})]})]}),Object(m.jsxs)("div",{className:"header__nav-right",children:["/phones"===a&&Object(m.jsx)(x,{}),"/tablets"===a&&Object(m.jsx)(x,{}),"/accessories"===a&&Object(m.jsx)(x,{}),"/favourities"===a&&Object(m.jsx)(x,{}),Object(m.jsx)(r.c,{to:"/favourites",className:"icon icon-fav",children:t>0&&Object(m.jsx)("span",{className:"fav-quantity",children:t})}),Object(m.jsx)(r.c,{to:"/cart",className:"icon icon-cart",children:c>0&&Object(m.jsx)("span",{className:"cart-quantity",children:c})})]})]})})})},g=(c(42),c(43),function(e){var t=e.isActive;return d()("footer__nav-link",{"footer-active":t})}),y=function(){var e=function(){window.scrollTo({top:0,behavior:"smooth"})};return Object(n.useEffect)((function(){var t=function(){e()},c=document.querySelector(".backto__top");return c?(c.addEventListener("click",t),function(){c.removeEventListener("click",t)}):function(){}}),[]),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{className:"border"}),Object(m.jsx)("div",{className:"footer",children:Object(m.jsxs)("div",{className:"footer__nav",children:[Object(m.jsx)(r.b,{to:"/",children:Object(m.jsx)("div",{className:"header__nav-logo"})}),Object(m.jsxs)("ul",{className:"footer__nav-item",children:[Object(m.jsx)("li",{className:"footer__nav-list",children:Object(m.jsx)(r.c,{to:"https://github.com/Vitalii-Fediaiev",className:g,children:"GitHub"})}),Object(m.jsx)("li",{className:"footer__nav-list",children:Object(m.jsx)(r.c,{to:"/",className:g,children:"Contacts"})}),Object(m.jsx)("li",{className:"footer__nav-list",children:Object(m.jsx)(r.c,{to:"/",className:g,children:"Right"})})]}),Object(m.jsxs)("div",{className:"footer__button",children:[Object(m.jsx)("p",{className:"footer__button-name","aria-label":"BacktoTop",children:"Back to top"}),Object(m.jsx)("button",{type:"button",className:"footer__button-top","aria-label":"BacktoTop",onClick:e})]})]})})]})},C=function(){return Object(m.jsxs)("div",{className:"App",children:[Object(m.jsx)(N,{}),Object(m.jsx)("div",{className:"App__main",children:Object(m.jsx)(o.a,{})}),Object(m.jsx)(y,{})]})},S=c(8),k=c(5),I=c.n(k);function P(e,t){var c=Object(n.useState)((function(){var c=localStorage.getItem(e);return c?JSON.parse(c):t})),a=Object(b.a)(c,2),s=a[0],i=a[1];return Object(n.useEffect)((function(){localStorage.setItem(e,JSON.stringify(s))}),[e,s]),[s,i]}c(44);var w=function(e){var t=e.product,c=Object(n.useContext)(h),a=c.toggleCartItem,s=c.cartItems,i=Object(n.useContext)(_),o=i.favouritesItems,l=i.toggleFavourite,d=P("isFavourite",!1),j=Object(b.a)(d,2),u=j[0],O=j[1],p=s.some((function(e){return e.id===+t.id}));Object(n.useEffect)((function(){O(o.some((function(e){return e.product.id===t.id})))}),[o,t]);return Object(m.jsxs)("div",{className:"product-card","data-cy":"cardsContainer",children:[Object(m.jsxs)("li",{className:"phone",children:[Object(m.jsxs)(r.b,{className:"phone__link",to:"/".concat(t.category,"/").concat(t.phoneId),children:[Object(m.jsx)("img",{src:"https://mate-academy.github.io/react_phone-catalog/_new/".concat(t.image),alt:t.name,className:"phone__img"}),Object(m.jsx)("div",{className:"phone__name",children:t.name})]}),Object(m.jsxs)("div",{className:"phone__cost",children:[Object(m.jsx)("div",{className:"phone__cost--discount",children:"$".concat(t.price)}),Object(m.jsx)("div",{className:"phone__cost--real",children:"$".concat(t.fullPrice)})]}),Object(m.jsx)("div",{className:"phone__border"}),Object(m.jsxs)("div",{className:"phone__criteria",children:[Object(m.jsxs)("div",{className:"phone__criteria--container",children:[Object(m.jsx)("div",{className:"phone__criteria--big",children:"Screen"}),Object(m.jsx)("div",{className:"phone__criteria--small",children:t.screen})]}),Object(m.jsxs)("div",{className:"phone__criteria--container",children:[Object(m.jsx)("div",{className:" phone__criteria--big ",children:"Capacity"}),Object(m.jsx)("div",{className:" phone__criteria--small ",children:t.capacity})]}),Object(m.jsxs)("div",{className:"phone__criteria--container",children:[Object(m.jsx)("div",{className:" phone__criteria--big ",children:"Ram"}),Object(m.jsx)("div",{className:" phone__criteria--small ",children:t.ram})]})]})]}),Object(m.jsxs)("div",{className:"phone__buttons",children:[Object(m.jsx)("button",{type:"button",className:"button__cart ".concat(p?"is-added":""),onClick:function(){a({id:+t.id,quantity:1,product:t,price:t.price})},children:p?"Added to Cart":"Add to Cart"}),Object(m.jsx)("button",{type:"button",className:"button__fav ".concat(u?"is-fav":""),"aria-label":"Add to Favorites",onClick:function(){l(t),O((function(e){return!e}))}})]})]})},F=(c(45),function(e){var t=e.products,c=e.title,a=Object(n.useState)(0),s=Object(b.a)(a,2),i=s[0],r=s[1],o=Math.ceil(t.length/4)-1,l=4*i,d=t.slice(l,l+4);return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("div",{className:"productSlider",children:[Object(m.jsxs)("div",{className:"productSlider__title-and-button",children:[Object(m.jsx)("h2",{className:"productSlider__title",children:c}),Object(m.jsxs)("div",{className:"productSlider__buttons",children:[Object(m.jsx)("button",{type:"button",className:"button button--prev",onClick:function(){r(0===i?o:i-1)},"aria-label":"Previous"}),Object(m.jsx)("button",{type:"button",className:"button button--next",onClick:function(){r(i===o?0:i+1)},"aria-label":"Next"})]})]}),Object(m.jsx)("div",{className:" productSlider__container","data-cy":"cardsContainer",children:d.map((function(e,c){return Object(m.jsx)("div",{className:"productSlider__card \n              ".concat(4*i+c<t.length?"productSlider__card--visible":""),children:Object(m.jsx)(w,{product:e})},e.id)}))})]})})});function L(e){return e.sort((function(e,t){return t.price-e.price}))}function E(e){return Object(u.a)(e).sort((function(e,t){return t.year-e.year}))}var T={black:"#4C4C4C",rosegold:"#FED0C6",gold:"#FCDBC1",silver:"#F0F0EE",spacegray:"#8D8D92",green:"#A3EACC",yellow:"#FEE870",white:"#F0F0F0",purple:"#EDE1F9",red:"#C91C38",coral:"#FF7F50",midnightgreen:"#5F7170"},A="https://mate-academy.github.io/react_phone-catalog/_new/products.json",q="https://mate-academy.github.io/react_phone-catalog/_new";function B(){return fetch(A).then((function(e){if(!e.ok)throw new Error("Network response was not ok");return e.json()}))}function J(e){return new Promise((function(t){setTimeout(t,e)}))}var M,R=function(e){return function(e){var t=arguments.length>2?arguments[2]:void 0,c={method:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET"};return t&&(c.body=JSON.stringify(t),c.headers={"Content-Type":"application/json; charset=UTF-8"}),J(500).then((function(){return fetch(q+e,c)})).then((function(e){var t;if(!e.ok)throw new Error("".concat(e.status," - ").concat(e.statusText));if(null===(t=e.headers.get("content-type"))||void 0===t||!t.includes("application/json"))throw new Error("Content-type is not supported");return e.json()}))}(e)},D=(c(46),function(){var e=Object(n.useState)([]),t=Object(b.a)(e,2),c=t[0],a=t[1];return Object(n.useEffect)((function(){function e(){return(e=Object(S.a)(I.a.mark((function e(){var t,c,s;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B();case 2:t=e.sent,c=L(t),s=E(c),a(s);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(m.jsx)("div",{className:"brand-new","data-cy":"cardsContainer",children:Object(m.jsx)(F,{title:"Brand New Modules",products:c})})});c(47);!function(e){e.Phones="phones",e.Tablets="tablets",e.Accessories="accessories"}(M||(M={}));var $=i.a.createContext({products:[],phonesCount:"",tabletsCount:"",accessoriesCount:"",hotPriceProducts:[],fetchProducts:function(){},getPhones:function(){}}),U=function(e){var t=e.children,c=Object(n.useState)([]),a=Object(b.a)(c,2),s=a[0],i=a[1],r=Object(n.useState)([]),o=Object(b.a)(r,2),l=o[0],d=o[1],j=function(){fetch(A).then((function(e){return e.json()})).then((function(e){return i(e)}))};Object(n.useEffect)((function(){j()}),[]);Object(n.useEffect)((function(){var e=s.filter((function(e){return e.price>0})),t=e.length>0?function(e){return e.filter((function(e){return e.price>0})).sort((function(e,t){return Math.abs(e.price*(e.price/100))-Math.abs(t.price*(t.price/100))}))}(e):[];d(t)}),[s]);var u=Object(n.useCallback)((function(e){var t=s.filter((function(t){return t.category===e})).length;return"".concat(t,1===t?" model":" models")}),[s]),h=u(M.Phones),O=u(M.Tablets),_=u(M.Accessories),p={products:s,phonesCount:h,tabletsCount:O,accessoriesCount:_,hotPriceProducts:l,fetchProducts:j,getPhones:function(){fetch(A).then((function(e){return e.json()})).then((function(e){i(e)}))}};return Object(m.jsx)($.Provider,{value:p,children:t})},H=function(){var e=Object(n.useContext)($).hotPriceProducts;return Object(m.jsx)("div",{className:"hot-price","data-cy":"cardsContainer",children:Object(m.jsx)(F,{title:"Hot Price",products:e})})},Y=(c(48),function(){var e=Object(n.useContext)($),t=e.phonesCount,c=e.tabletsCount,a=e.accessoriesCount;return Object(m.jsxs)("div",{className:"category","data-cy":"categoryLinksContainer",children:[Object(m.jsx)("h2",{className:"category__title",children:"Shop By Category"}),Object(m.jsxs)("div",{className:"category__container",children:[Object(m.jsxs)(r.b,{to:"/phones",className:"category__link",children:[Object(m.jsx)("div",{className:"category__phones category__phones--image"}),Object(m.jsxs)("div",{className:"category__description",children:[Object(m.jsx)("h3",{className:"category__name",children:"Mobile phones"}),Object(m.jsx)("div",{className:"category__amount",children:t})]})]}),Object(m.jsxs)(r.b,{to:"/tablets",className:"category__link",children:[Object(m.jsx)("div",{className:"category__tablets category__phones--image"}),Object(m.jsxs)("div",{children:[Object(m.jsx)("h3",{className:"category__name",children:"Tablets"}),Object(m.jsx)("span",{className:"category__amount",children:c})]})]}),Object(m.jsxs)(r.b,{to:"/accessories",className:"category__link",children:[Object(m.jsx)("div",{className:"category__accessories category__phones--image"}),Object(m.jsxs)("div",{children:[Object(m.jsx)("h3",{className:"category__name",children:"Accessories"}),Object(m.jsx)("span",{className:"category__amount",children:a})]})]})]})]})}),G=c(32),z=(c(58),c(59),function(){var e=Object(n.useState)(0),t=Object(b.a)(e,2),c=t[0],a=t[1],s=[{image:"image/banner-phones.png"},{image:"image/banner-tablets.png"},{image:"image/banner-accessories.png"}],i=function(){a((c-1+s.length)%s.length)};return Object(m.jsxs)("div",{className:"slider-container",children:[Object(m.jsx)(G.Carousel,Object(j.a)(Object(j.a)({className:"carousel"},{infiniteLoop:!0,showArrows:!1,showStatus:!1,showIndicators:!1,showThumbs:!1,transitionTime:500,interval:3e3,autoPlay:!0}),{},{selectedItem:c,onChange:function(e){return a(e)},children:s.map((function(e){return Object(m.jsx)("div",{children:Object(m.jsx)("img",{src:e.image,alt:"slide",className:"slider-image"})},e.image)}))})),Object(m.jsxs)("div",{className:"indicators-container",children:[Object(m.jsx)("button",{type:"button",className:"slider_arrows-left",onClick:i,"aria-label":"Previous Slide"}),Object(m.jsx)("button",{type:"button",className:"slider_arrows-right",onClick:function(){a((c+1)%s.length)},"aria-label":"Next Slide"}),s.map((function(e,t){return Object(m.jsx)("button",{type:"button","aria-label":"Indicator",tabIndex:0,className:"custom-indicator ".concat(c===t?"active":""),onClick:function(){return a(t)},onKeyDown:function(e){"Enter"!==e.key&&" "!==e.key||i()}},e.image)}))]})]})}),K=function(){return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(z,{slides:[]}),Object(m.jsx)(H,{}),Object(m.jsx)(Y,{products:[]}),Object(m.jsx)(D,{products:[]})]})},Q=(c(60),function(e){var t=e.total,c=e.perPage,a=e.currentPage,s=e.onPageChange,n=Math.ceil(t/c),i=1===a,r=a===n,o=a-1,l=a+2;o<1?(o=1,l=Math.min(n,4)):l>n&&(l=n+1,o=Math.max(1,l-4));var j=function(e,t){for(var c=[],a=e;a<=t;a+=1)c.push(a);return c}(o,l);return Object(m.jsxs)("ul",{className:"pagination",children:[!i&&Object(m.jsx)("li",{className:d()("page-item",{disabled:i}),children:Object(m.jsx)("button",{type:"button","data-cy":"firstPageLink",className:"page-link",onClick:function(){return s(1)},children:"1"})}),Object(m.jsx)("button",{className:d()("page-item page-link prev",{disabled:i}),"data-cy":"prevLink",type:"button","aria-label":"next",disabled:i,onClick:function(){i||s(a-1)}}),j.map((function(e){return Object(m.jsx)("button",{className:d()("page-item",{"pagination-active":a===e}),type:"button","aria-label":"page","data-cy":"pageLink",onClick:function(){return s(e)},children:e},e)})),Object(m.jsx)("button",{className:d()("page-item page-link next",{disabled:r}),type:"button","aria-label":"next","data-cy":"nextLink",disabled:r,onClick:function(){r||s(a+1)}})]})}),V=(c(61),function(){var e=Object(o.n)().pathname.split("/").filter((function(e){return e}));return Object(m.jsxs)("div",{className:"breadcrumbs",children:[Object(m.jsx)(r.c,{to:"/",children:Object(m.jsx)("span",{className:"breadcrumbs__home-icon"})}),e.map((function(e){return Object(m.jsxs)(i.a.Fragment,{children:[Object(m.jsx)("span",{className:"breadcrumbs__separator"}),Object(m.jsx)(r.b,{to:"/".concat(e),className:"breadcrumbs__link",children:e.charAt(0).toUpperCase()+e.slice(1)})]},e)}))]})}),Z=(c(62),function(e){var t=e.products,c=e.sortBy,a=e.onSortChange,s=Object(n.useState)(t),i=Object(b.a)(s,2),o=i[0],l=i[1],d=Object(n.useState)(4),j=Object(b.a)(d,2),h=j[0],O=j[1],_=Object(n.useState)(1),p=Object(b.a)(_,2),v=p[0],x=p[1],f=Object(n.useState)(!1),N=Object(b.a)(f,2),g=N[0],y=N[1],C=Object(r.d)(),S=Object(b.a)(C,1)[0].get("query")||"",k=Object(n.useContext)($).phonesCount;Object(n.useEffect)((function(){var e,a=t.filter((function(e){return e.name.toLowerCase().includes(S.toLowerCase())||e.color.toLowerCase().includes(S.toLowerCase())}));l((e=a,"age"===c?Object(u.a)(e).sort((function(e,t){return new Date(t.year).getTime()-new Date(e.year).getTime()})):"name"===c?Object(u.a)(e).sort((function(e,t){return e.name.localeCompare(t.name)})):"price"===c?Object(u.a)(e).sort((function(e,t){return e.price-t.price})):e))}),[t,c,S]);var I=v*h,P=I-h,F=o.slice(P,I);return Object(m.jsxs)("div",{className:"ProductList","data-cy":"productList",children:[Object(m.jsx)(V,{}),Object(m.jsxs)("div",{className:"ProductList__top",children:[Object(m.jsx)("h1",{className:"ProductList__top--name",children:"Mobile Phones"}),Object(m.jsx)("div",{className:"ProductList__top--count",children:k})]}),Object(m.jsxs)("div",{className:"ProductList_container--select",children:[Object(m.jsxs)("div",{className:"ProductList__sort ProductList__display ",children:[Object(m.jsx)("h4",{className:"ProductList__title",children:"Sort By"}),Object(m.jsxs)("select",{id:"sortSelect",onChange:function(e){var t=e.target.value;a(t)},value:c,className:"ProductList__select",children:[Object(m.jsx)("option",{value:"age",children:"Newest"}),Object(m.jsx)("option",{value:"name",children:"Alphabetically"}),Object(m.jsx)("option",{value:"price",children:"Cheapest"})]})]}),Object(m.jsxs)("div",{className:"ProductList__show ProductList__display",children:[Object(m.jsx)("h4",{className:"ProductList__title",children:"Items on page"}),Object(m.jsxs)("select",{id:"showAllSelect",onChange:function(e){var t=e.target.value;"all"===t?(y(!0),O(o.length)):(y(!1),O(parseInt(t,10)))},value:g?"all":h.toString(),className:"ProductList__select ProductList__select-page",children:[Object(m.jsx)("option",{value:"4",children:"4"}),Object(m.jsx)("option",{value:"8",children:"8"}),Object(m.jsx)("option",{value:"16",children:"16"}),Object(m.jsx)("option",{value:"all",children:"all"})]})]})]}),Object(m.jsx)("div",{className:"ProductList__grid",children:function(){var e=g?o:F;return e.length>0?e.map((function(e){return Object(m.jsx)("div",{children:Object(m.jsx)(w,{product:e})},e.id)})):Object(m.jsx)("div",{className:"ProductList__no-results"})}()}),!g&&o.length>0&&Object(m.jsx)(Q,{total:o.length,perPage:h,currentPage:v,onPageChange:function(e){x(e)}})]})}),W=function(){var e=Object(n.useContext)($),t=e.products,c=e.getPhones,a=Object(n.useState)("age"),s=Object(b.a)(a,2),i=s[0],r=s[1],l=Object(o.n)(),d=new URLSearchParams(l.search).get("query")||"",j=Object(n.useState)(d),u=Object(b.a)(j,2),h=u[0],O=u[1],_=Object(n.useState)(t),p=Object(b.a)(_,2),v=p[0],x=p[1];return Object(n.useEffect)((function(){t&&0!==t.length||c()}),[t,c]),Object(n.useEffect)((function(){O(d)}),[d]),Object(n.useEffect)((function(){var e=t.filter((function(e){return e.name.toLowerCase().includes(h.toLowerCase())||e.color&&e.color.toLowerCase().includes(h.toLowerCase())}));x(e)}),[h,t]),Object(m.jsx)("div",{className:"phone__page",children:Object(m.jsx)(Z,{products:v,sortBy:i,onSortChange:r})})},X=(c(63),function(){var e=Object(n.useContext)(h),t=e.cartItems,c=e.removeFromCart,a=e.addToCart,s=e.getCartTotal,i=t.reduce((function(e,t){return e+t.quantity}),0);return Object(m.jsxs)("div",{className:"cart cart-margin",children:[Object(m.jsx)(r.b,{to:"/",className:"cart__button--back-text",children:Object(m.jsxs)("div",{className:"cart__button--back","aria-hidden":!0,"data-cy":"backButton",children:[Object(m.jsx)("div",{className:"cart__button--back-icon"}),Object(m.jsx)("span",{className:"cart__button--back-text",children:"Back"})]})}),Object(m.jsx)("h1",{className:"cart__title",children:"Cart"}),Object(m.jsxs)("div",{className:"cart__container",children:[Object(m.jsx)("div",{className:"cart__items",children:t.length>0?t.map((function(e){return Object(m.jsxs)("div",{className:"cart__item",children:[Object(m.jsx)("button",{className:"cart__clear-button","aria-label":"button",type:"button",onClick:function(){c(e)}}),Object(m.jsxs)("div",{className:"cart__item-content",children:[Object(m.jsx)("img",{src:"https://mate-academy.github.io/react_phone-catalog/_new/".concat(e.product.image),alt:e.product.name,className:"cart__item-image"}),Object(m.jsx)("h1",{className:"cart__item-title",children:e.product.name})]}),Object(m.jsx)("button",{className:"cart__item-control cart__item-control--add","aria-label":"button",type:"button",onClick:function(){a(e)}}),Object(m.jsx)("div",{className:"cart__item-quantity","data-cy":"productQauntity",children:e.quantity}),Object(m.jsx)("button",{className:"cart__item-control cart__item-control--remove","aria-label":"button",type:"button",onClick:function(){c(e)}}),Object(m.jsxs)("div",{className:"cart__item-price",children:["$",e.price]})]},e.id)})):Object(m.jsx)("h1",{className:"cart__empty",children:"Your cart is empty"})}),t.length>0&&Object(m.jsxs)("div",{className:"cart_amounts",children:[Object(m.jsxs)("h1",{className:"cart__total-amount",children:["$",s()]}),Object(m.jsxs)("p",{className:"cart__total",children:[" ","Total for",i," ",1===i?"item":"items"]}),Object(m.jsx)("div",{className:"cart__border"}),Object(m.jsx)("button",{type:"button",className:"cart__button",children:"Checkout"})]})]})]})}),ee=(c(64),function(){var e=Object(n.useContext)(_).favouritesItems,t=e.length;return Object(m.jsxs)("div",{className:"favourites__page",children:[Object(m.jsx)(V,{}),Object(m.jsx)("h1",{className:"favourites__page__title",children:"Favourites"}),Object(m.jsxs)("p",{className:"favourites__page__item",children:[t," ","items"]}),Object(m.jsx)("div",{className:"favourites__page__items",children:e.length>0?e.map((function(e){return Object(m.jsx)(w,{product:e.product},e.id)})):Object(m.jsx)("p",{className:"favourites__page__empty",children:"Your list is empty"})})]})}),te=(c(65),function(e){var t=e.product,c=Object(n.useContext)(h),a=c.toggleCartItem,s=c.cartItems.some((function(e){return e.id===+t.id}));return Object(m.jsx)("button",{type:"button",className:"button__cart ".concat(s?"is-added":""),onClick:function(){a({id:+t.id,quantity:1,product:t,price:t.price})},children:s?"Added to Cart":"Add to Cart"})}),ce=function(e){var t=e.product,c=Object(n.useContext)(_),a=c.favouritesItems,s=c.toggleFavourite,i=P("isFavourite",!1),r=Object(b.a)(i,2),o=r[0],l=r[1];Object(n.useEffect)((function(){l(a.some((function(e){return e.product.id===t.id})))}),[a,t]);return Object(m.jsx)("button",{type:"button",className:"button__fav ".concat(o?"is-fav":""),"aria-label":"Add to Favorites",onClick:function(){s(t),l((function(e){return!e}))}})},ae=(c(66),function(){return Object(m.jsx)("div",{className:"loader"})}),se=function(){var e=Object(o.r)().productId,t=Object(n.useState)(),c=Object(b.a)(t,2),a=c[0],s=c[1],i=Object(n.useState)([]),l=Object(b.a)(i,2),j=l[0],u=l[1],h=Object(n.useState)(""),O=Object(b.a)(h,2),_=O[0],p=O[1],v=Object(n.useState)(!1),x=Object(b.a)(v,2),f=x[0],N=x[1],g=a?function(e,t){return e.find((function(e){return e.itemId===t}))}(j,a.id):null,y=Object(n.useMemo)((function(){return j.filter((function(e){return e.category===(null===g||void 0===g?void 0:g.category)&&e.capacity===(null===g||void 0===g?void 0:g.capacity)}))}),[j,g]);return Object(n.useEffect)((function(){var t;e&&(N(!0),(t=e,R("/products/".concat(t,".json"))).then((function(e){s(e),null!==e&&void 0!==e&&e.images&&e.images.length>0&&p(e.images[0])})).catch((function(){})).finally((function(){N(!1)})))}),[e]),Object(n.useEffect)((function(){B().then(u).catch((function(){})).finally((function(){setTimeout((function(){}),500)}))}),[]),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("div",{className:"details__top",children:[Object(m.jsx)("div",{className:"breadcrum",children:Object(m.jsx)(V,{})}),Object(m.jsx)(r.b,{to:"/",className:"cart__button--back-text",children:Object(m.jsxs)("div",{className:"cart__button--back","aria-hidden":!0,"data-cy":"backButton",children:[Object(m.jsx)("div",{className:"cart__button--back-icon"}),Object(m.jsx)("span",{className:"cart__button--back-text",children:"Back"})]})})]}),f?Object(m.jsx)(ae,{}):Object(m.jsxs)("div",{className:"details",children:[Object(m.jsx)("h1",{className:"details__product-name",children:null===a||void 0===a?void 0:a.name}),Object(m.jsxs)("div",{className:"details__container",children:[Object(m.jsxs)("div",{className:"details__switcher",children:[Object(m.jsx)("div",{className:"details__images",children:null===a||void 0===a?void 0:a.images.map((function(e){return Object(m.jsx)("button",{type:"button",className:d()("details__images-button",{"image-active":e===_}),onClick:function(){return p(e)},children:Object(m.jsx)("img",{src:"".concat(q,"/").concat(e),alt:null===a||void 0===a?void 0:a.name,className:"details__images-item"})},e)}))}),Object(m.jsx)("div",{className:"details__current-image",children:Object(m.jsx)("img",{src:"".concat(q,"/").concat(_),alt:null===a||void 0===a?void 0:a.namespaceId,className:"details__current-image-item ".concat(_&&"animate-image")})},Math.random())]}),Object(m.jsxs)("div",{className:"details__colors-and-id",children:[Object(m.jsx)("p",{className:"details__colors-text",children:"Available colors"}),Object(m.jsx)("div",{className:"details__color-switcher",children:null===a||void 0===a?void 0:a.colorsAvailable.map((function(e){return Object(m.jsx)("li",{className:d()("details__options-color",{"color-active":(null===a||void 0===a?void 0:a.color)===e}),children:Object(m.jsx)(r.b,{style:{backgroundColor:T[e]},to:"/phones/".concat(null===a||void 0===a?void 0:a.namespaceId,"-").concat(null===a||void 0===a?void 0:a.capacity.toLowerCase(),"-").concat(e),className:"details__options-color-link"})},e)}))}),Object(m.jsx)("div",{className:"details__decorate"}),Object(m.jsxs)("div",{className:"details__capacity",children:[Object(m.jsx)("p",{className:"details__capacity-title",children:"Select capacity"}),Object(m.jsx)("div",{className:"details__capacity-switcher",children:null===a||void 0===a?void 0:a.capacityAvailable.map((function(e){return Object(m.jsx)("li",{className:d()("details__options-cap",{"capacity-active":(null===a||void 0===a?void 0:a.capacity)===e}),children:Object(m.jsx)(r.b,{to:"/phones/".concat(a.namespaceId,"-").concat(e.toLowerCase(),"-").concat(a.color),className:"details__options-cap-link",children:e})},e)}))})]}),Object(m.jsx)("div",{className:"details__decorate"}),Object(m.jsxs)("div",{className:"details__cost",children:[Object(m.jsx)("div",{className:"details__cost--discount",children:"$".concat(null===a||void 0===a?void 0:a.priceDiscount)}),Object(m.jsx)("div",{className:"details__cost--real",children:"$".concat(null===a||void 0===a?void 0:a.priceRegular)})]}),g&&Object(m.jsxs)("div",{className:"details__buttons",children:[Object(m.jsx)(te,{product:g}),Object(m.jsx)(ce,{product:g})]}),Object(m.jsxs)("div",{className:"details__criteria",children:[Object(m.jsxs)("div",{className:"details__criteria--container",children:[Object(m.jsx)("div",{className:"details__criteria--big",children:"Screen"}),Object(m.jsx)("div",{className:"details__criteria--small",children:null===a||void 0===a?void 0:a.screen})]}),Object(m.jsxs)("div",{className:"details__criteria--container",children:[Object(m.jsx)("div",{className:"details__criteria--big",children:"Resolution"}),Object(m.jsx)("div",{className:"details__criteria--small",children:null===a||void 0===a?void 0:a.resolution})]}),Object(m.jsxs)("div",{className:"details__criteria--container",children:[Object(m.jsx)("div",{className:"details__criteria--big",children:"Processor"}),Object(m.jsx)("div",{className:"details__criteria--small",children:null===a||void 0===a?void 0:a.processor})]}),Object(m.jsxs)("div",{className:"details__criteria--container",children:[Object(m.jsx)("div",{className:"details__criteria--big",children:"Ram"}),Object(m.jsx)("div",{className:"details__criteria--small",children:null===a||void 0===a?void 0:a.ram})]})]})]})]}),Object(m.jsxs)("div",{className:"details__description",children:[Object(m.jsxs)("div",{className:"details__description-about",children:[Object(m.jsx)("h1",{className:"details__description-title",children:"About"}),Object(m.jsx)("div",{className:"details__decorate"}),null===a||void 0===a?void 0:a.description.map((function(e){return Object(m.jsxs)("div",{className:"fff",children:[Object(m.jsx)("h3",{className:"details__description__title--about",children:e.title}),Object(m.jsx)("p",{className:"details__description__text",children:e.text})]})}))]}),Object(m.jsxs)("div",{className:"details__description-tech",children:[Object(m.jsx)("h1",{className:"details__description-title",children:"Tech specs"}),Object(m.jsx)("div",{className:"details__decorate"}),Object(m.jsxs)("div",{className:"details__description-tech--container",children:[Object(m.jsx)("p",{className:"details__description-tech--title-tech",children:"Screen"}),Object(m.jsx)("p",{className:"details__description-tech--title-small",children:null===a||void 0===a?void 0:a.screen})]}),Object(m.jsxs)("div",{className:"details__description-tech--container",children:[Object(m.jsx)("p",{className:"details__description-tech--title-tech",children:"Resolution"}),Object(m.jsx)("p",{className:"details__description-tech--title-small",children:null===a||void 0===a?void 0:a.resolution})]}),Object(m.jsxs)("div",{className:"details__description-tech--container",children:[Object(m.jsx)("p",{className:"details__description-tech--title-tech",children:"Processor"}),Object(m.jsx)("p",{className:"details__description-tech--title-small",children:null===a||void 0===a?void 0:a.processor})]}),Object(m.jsxs)("div",{className:"details__description-tech--container",children:[Object(m.jsx)("p",{className:"details__description-tech--title-tech",children:"RAM"}),Object(m.jsx)("p",{className:"details__description-tech--title-small",children:null===a||void 0===a?void 0:a.ram})]}),Object(m.jsxs)("div",{className:"details__description-tech--container",children:[Object(m.jsx)("p",{className:"details__description-tech--title-tech",children:"Built in memory"}),Object(m.jsx)("p",{className:"details__description-tech--title-small",children:null===a||void 0===a?void 0:a.capacity})]}),Object(m.jsxs)("div",{className:"details__description-tech--container",children:[Object(m.jsx)("p",{className:"details__description-tech--title-tech",children:"Camera"}),Object(m.jsx)("p",{className:"details__description-tech--title-small",children:null===a||void 0===a?void 0:a.camera})]}),Object(m.jsxs)("div",{className:"details__description-tech--container",children:[Object(m.jsx)("p",{className:"details__description-tech--title-tech",children:"Zoom"}),Object(m.jsx)("p",{className:"details__description-tech--title-small",children:null===a||void 0===a?void 0:a.zoom})]}),Object(m.jsxs)("div",{className:"details__description-tech--container",children:[Object(m.jsx)("p",{className:"details__description-tech--title-tech",children:"Cell"}),Object(m.jsx)("p",{className:"details__description-tech--title",children:null===a||void 0===a?void 0:a.cell.map((function(e,t){return Object(m.jsx)("span",{className:"details__description-tech--title-small",children:"".concat(e).concat(t===a.cell.length-1?"":","," ")},a.id)}))})]})]})]}),Object(m.jsx)(F,{title:"You may also like",products:y})]})]})},ne=(c(67),function(){return Object(m.jsxs)("div",{className:"tablets",children:[Object(m.jsx)(V,{}),Object(m.jsx)("h1",{children:"Tablets Page"})]})}),ie=(c(68),function(){return Object(m.jsxs)("div",{className:"accessories",children:[Object(m.jsx)(V,{}),Object(m.jsx)("h1",{children:"Accessories Page"})]})}),re=function(){return Object(m.jsx)(p,{children:Object(m.jsx)(O,{children:Object(m.jsx)(U,{children:Object(m.jsx)(r.a,{children:Object(m.jsx)(o.d,{children:Object(m.jsxs)(o.b,{path:"/",element:Object(m.jsx)(C,{}),children:[Object(m.jsx)(o.b,{index:!0,element:Object(m.jsx)(K,{})}),Object(m.jsxs)(o.b,{path:"phones",children:[Object(m.jsx)(o.b,{index:!0,element:Object(m.jsx)(W,{})}),Object(m.jsx)(o.b,{path:":productId",element:Object(m.jsx)(se,{})})]}),Object(m.jsx)(o.b,{path:"/cart",element:Object(m.jsx)(X,{})}),Object(m.jsx)(o.b,{path:"/favourites",element:Object(m.jsx)(ee,{})}),Object(m.jsx)(o.b,{path:"/tablets",element:Object(m.jsx)(ne,{})}),Object(m.jsx)(o.b,{path:"/accessories",element:Object(m.jsx)(ie,{})}),Object(m.jsx)(o.b,{path:"*",element:Object(m.jsx)(V,{})})]})})})})})})};s.a.render(Object(m.jsx)(re,{}),document.getElementById("root"))}},[[69,1,2]]]);
//# sourceMappingURL=main.07ab6c05.chunk.js.map